(()=>{"use strict";let e={};const t=(t,o)=>{const n=Object.assign({},e);return n[t]=o,e=n,e},o=()=>e,n=e=>{const t=document.createElement("p");t.addEventListener("click",(()=>{e.sendMessage({body:"Hi from the bus!",type:"message:alert"})})),t.innerHTML="hello world",e.ready((e=>{console.log(e)})),((e,t)=>{const o=e.cloneNode(!1);e.replaceWith(o),o.appendChild(t)})(e.domElement,t)};(()=>{const e=document.querySelectorAll("[data-component]");t("helloworld",n);((e,t,o="data-component-type")=>{const n=[];[...t].forEach((t=>{const s=t.getAttribute(o),c=e[s];try{c({domElement:t,name:s,sendMessage:e=>{var t;t=Object.assign(Object.assign({},e),{source:s}),n.forEach((e=>{e.receiveMessage(t)}))},ready:e=>{n.push({receiveMessage:e})}})}catch(e){console.log(e,"error occurred when binding to DOM")}}))})(o(),e)})()})();